<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advance 4: Working with APIs - Mini Projects</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            max-width: 1000px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
        }

        h1 {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        h2 {
            color: #a855f7;
            border-bottom: 3px solid #a855f7;
            padding-bottom: 10px;
        }

        h3 {
            color: #666;
            margin-top: 20px;
        }

        .section {
            background: white;
            padding: 25px;
            margin: 25px 0;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        button {
            background: linear-gradient(135deg, #a855f7, #6366f1);
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(168, 85, 247, 0.4);
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        input, select {
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            margin: 5px;
        }

        input:focus, select:focus {
            border-color: #a855f7;
            outline: none;
        }

        .output {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #a855f7;
        }

        .loading {
            text-align: center;
            color: #a855f7;
        }

        .error {
            background: #fee2e2;
            border-left-color: #ef4444;
            color: #b91c1c;
        }

        /* User Cards */
        .users-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .user-card {
            background: linear-gradient(135deg, #f5f7fa, #e4e8ec);
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .user-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .user-card h4 {
            margin: 0 0 10px 0;
            color: #302b63;
        }

        .user-card p {
            margin: 5px 0;
            color: #666;
            font-size: 14px;
        }

        /* Posts */
        .posts-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .post-item {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #a855f7;
        }

        .post-item h4 {
            margin: 0 0 10px 0;
            color: #302b63;
        }

        .post-item p {
            margin: 0;
            color: #666;
            font-size: 14px;
        }

        /* Comments */
        .comment {
            background: #e8f4fc;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            font-size: 13px;
        }

        .comment strong {
            color: #302b63;
        }

        /* Todo App */
        .todo-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .todo-input-group input {
            flex: 1;
        }

        .todo-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 8px 0;
        }

        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
        }

        .todo-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
        }

        .todo-item span {
            flex: 1;
        }

        .todo-item button {
            padding: 5px 15px;
            font-size: 12px;
        }

        /* Photo Gallery */
        .photos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .photo-item {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .photo-item:hover {
            transform: scale(1.05);
        }

        .photo-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .photo-item p {
            padding: 10px;
            margin: 0;
            font-size: 12px;
            color: #666;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
        }

        .tab-btn {
            background: #e0e0e0;
            color: #333;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #a855f7, #6366f1);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Skeleton Loading Styles */
        .skeleton-card {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
            height: 100px;
            border-radius: 8px;
            margin: 10px 0;
        }

        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Stats grid for cache section */
        .stats-grid {
            display: grid;
            gap: 15px;
            margin: 15px 0;
        }

        .stat-box {
            background: linear-gradient(135deg, #a855f7, #6366f1);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-box .number {
            font-size: 32px;
            font-weight: bold;
        }

        .stat-box .label {
            font-size: 12px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <h1>Advance 4: Working with APIs - Mini Projects</h1>

    <!-- Project 1: User Directory -->
    <div class="section">
        <h2>Project 1: User Directory</h2>
        <p>Fetch and display users from JSONPlaceholder API</p>

        <button id="load-users-btn">Load Users</button>
        <button id="clear-users-btn">Clear</button>

        <div id="users-loading" class="output loading" style="display: none;">Loading users...</div>
        <div class="users-grid" id="users-grid"></div>
    </div>

    <!-- Project 2: Blog Posts with Comments -->
    <div class="section">
        <h2>Project 2: Blog Posts with Comments</h2>
        <p>Fetch posts and their comments</p>

        <select id="post-select">
            <option value="">Select a post to view comments...</option>
        </select>
        <button id="load-posts-btn">Load Posts</button>

        <div class="posts-list" id="posts-list"></div>
        <div id="comments-container"></div>
    </div>

    <!-- Project 3: Todo App with API -->
    <div class="section">
        <h2>Project 3: Todo App (API + Local State)</h2>
        <p>Manage todos with API simulation</p>

        <div class="todo-input-group">
            <input type="text" id="todo-input" placeholder="Enter a new todo...">
            <button id="add-todo-btn">Add Todo</button>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-filter="all">All</button>
            <button class="tab-btn" data-filter="active">Active</button>
            <button class="tab-btn" data-filter="completed">Completed</button>
        </div>

        <div id="todo-list"></div>

        <div class="output" id="todo-stats">
            <strong>Stats:</strong> <span id="todo-count">0</span> total |
            <span id="completed-count">0</span> completed |
            <span id="pending-count">0</span> pending
        </div>
    </div>

    <!-- Project 4: Photo Gallery -->
    <div class="section">
        <h2>Project 4: Photo Gallery</h2>
        <p>Load photos from API with pagination</p>

        <select id="album-select">
            <option value="">All Albums</option>
            <option value="1">Album 1</option>
            <option value="2">Album 2</option>
            <option value="3">Album 3</option>
        </select>
        <button id="load-photos-btn">Load Photos</button>
        <button id="load-more-btn" style="display: none;">Load More</button>

        <div class="photos-grid" id="photos-grid"></div>
        <div id="photos-loading" class="output loading" style="display: none;">Loading photos...</div>
    </div>

    <!-- Project 5: Search & Filter -->
    <div class="section">
        <h2>Project 5: Search & Filter Users</h2>
        <p>Search through API data with debouncing</p>

        <input type="text" id="search-input" placeholder="Search users by name or email..." style="width: 100%; max-width: 400px;">
        <div id="search-results" class="output">Start typing to search...</div>
        <div class="users-grid" id="search-grid"></div>
    </div>

    <!-- NEW Exercise 6: CRUD Operations -->
    <div class="section">
        <h2>Exercise 6: CRUD Operations (Create, Read, Update, Delete)</h2>
        <p><strong>Learn:</strong> Perform all API operations - POST, PUT, PATCH, DELETE!</p>

        <h3>Create New Post</h3>
        <input type="text" id="new-post-title" placeholder="Post title..." style="width: 100%; max-width: 300px;">
        <input type="text" id="new-post-body" placeholder="Post content..." style="width: 100%; max-width: 400px;">
        <button id="create-post-btn">Create Post (POST)</button>

        <h3>Update Post (ID: 1)</h3>
        <input type="text" id="update-post-title" placeholder="New title..." style="width: 100%; max-width: 300px;">
        <button id="update-post-btn">Update Post (PUT)</button>
        <button id="patch-post-btn">Patch Post (PATCH)</button>

        <h3>Delete Post</h3>
        <input type="number" id="delete-post-id" placeholder="Post ID" style="width: 100px;" value="1">
        <button id="delete-post-btn">Delete Post (DELETE)</button>

        <div class="output" id="crud-output">Perform CRUD operations and see the results...</div>
    </div>

    <!-- NEW Exercise 7: Loading States & Error Handling UI -->
    <div class="section">
        <h2>Exercise 7: Loading States & Error Handling UI</h2>
        <p><strong>Learn:</strong> Show proper loading indicators and handle different error states!</p>

        <h3>Fetch with Loading States</h3>
        <button id="fetch-loading-btn">Fetch with Skeleton Loading</button>
        <button id="fetch-slow-btn">Simulate Slow API (3s)</button>
        <button id="fetch-error-btn">Simulate API Error</button>

        <div id="loading-container">
            <div id="loading-skeleton" style="display: none;">
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
            </div>
            <div id="loading-result"></div>
        </div>

        <div class="output" id="loading-output">Click a button to see different loading patterns...</div>
    </div>

    <!-- NEW Exercise 8: API Response Caching -->
    <div class="section">
        <h2>Exercise 8: API Response Caching</h2>
        <p><strong>Learn:</strong> Cache API responses to improve performance and reduce API calls!</p>

        <h3>Cached vs Uncached Requests</h3>
        <button id="fetch-uncached-btn">Fetch Without Cache</button>
        <button id="fetch-cached-btn">Fetch With Cache</button>
        <button id="clear-cache-btn">Clear Cache</button>

        <div class="stats-grid" style="grid-template-columns: 1fr 1fr; margin-top: 15px;">
            <div class="stat-box">
                <div class="number" id="cache-hits">0</div>
                <div class="label">Cache Hits</div>
            </div>
            <div class="stat-box" style="background: linear-gradient(135deg, #ef4444, #f97316);">
                <div class="number" id="cache-misses">0</div>
                <div class="label">Cache Misses (API Calls)</div>
            </div>
        </div>

        <div class="output" id="cache-output">Click buttons to see caching in action...</div>
        <p><small>Open console (F12) to see detailed cache logs</small></p>
    </div>

    <script src="script.js"></script>
</body>
</html>
